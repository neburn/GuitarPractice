<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé∏ Guitar Practice Tracker</title>
    
    <!-- PWA Configuration -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4A90E2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Guitar Practice">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/dark-theme.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9IiM0QTkwRTIiPjxyZWN0IHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2IiBmaWxsPSIjMzAzNDciLz48dGV4dCB4PSIxMjgiIHk9IjEyOCIgZm9udC1zaXplPSIzMiIgZmlsbD0iIzZmZmZmZmZmIj7wn46YPC90ZXh0Pjwvc3ZnPg==">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-icon">üé∏</div>
            <div class="loading-text">Loading Guitar Practice Tracker...</div>
            <div class="loading-progress">
                <div class="progress-bar"></div>
            </div>
        </div>
    </div>

    <!-- Status Indicator -->
    <div id="statusIndicator" class="status-indicator">üì± Ready</div>

    <!-- Main App Container -->
    <div id="app" class="app" style="display: none;">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="app-title">
                    <span class="app-icon">üé∏</span>
                    <div class="title-text">
                        <h1><span class="title-tune">tune</span><span class="title-upgrade">UPGRADE</span></h1>
                        <p class="subtitle">Guitar Practice Tracker</p>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="btn-icon" id="themeToggle" title="Toggle Theme">
                        <span class="icon">üåô</span>
                    </button>
                    <button class="btn-icon" id="settingsBtn" title="Settings">
                        <span class="icon">‚öôÔ∏è</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="tab-navigation">
            <button class="tab-button active" data-tab="dashboard">
                <span class="tab-icon">üè†</span>
                <span class="tab-text">Dashboard</span>
            </button>
            <button class="tab-button" data-tab="timer">
                <span class="tab-icon">‚è±Ô∏è</span>
                <span class="tab-text">Timer</span>
            </button>
            <button class="tab-button" data-tab="library">
                <span class="tab-icon">üéµ</span>
                <span class="tab-text">Library</span>
            </button>
            <button class="tab-button" data-tab="statistics">
                <span class="tab-icon">üìä</span>
                <span class="tab-text">Stats</span>
            </button>
            <button class="tab-button" data-tab="achievements">
                <span class="tab-icon">üèÜ</span>
                <span class="tab-text">Goals</span>
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Tab -->
            <section id="dashboard-tab" class="tab-content active">
                <div class="dashboard-grid">
                    <!-- Quick Stats -->
                    <div class="card stats-card">
                        <div class="card-header">
                            <h3>üìà Today's Practice</h3>
                        </div>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-value" id="todaySessions">0</div>
                                <div class="stat-label">Sessions</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="todayTime">0m</div>
                                <div class="stat-label">Time</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="currentStreak">0</div>
                                <div class="stat-label">Day Streak</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="goalProgress">0%</div>
                                <div class="stat-label">Goal</div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Practice -->
                    <div class="card">
                        <div class="card-header">
                            <h3>‚ö° Quick Practice</h3>
                        </div>
                        <div class="quick-practice-grid">
                            <button class="quick-btn" data-minutes="5">5m</button>
                            <button class="quick-btn" data-minutes="10">10m</button>
                            <button class="quick-btn" data-minutes="15">15m</button>
                            <button class="quick-btn" data-minutes="30">30m</button>
                        </div>
                        <div class="input-group">
                            <select id="quickPracticeItem" class="form-select">
                                <option value="">Select what to practice...</option>
                            </select>
                        </div>
                    </div>

                    <!-- Recent Sessions -->
                    <div class="card recent-sessions">
                        <div class="card-header">
                            <h3>üìù Recent Sessions</h3>
                            <button class="btn-link" id="viewAllSessions">View All</button>
                        </div>
                        <div class="sessions-list" id="recentSessionsList">
                            <div class="empty-state">
                                <span class="empty-icon">üéØ</span>
                                <p>No sessions yet. Start practicing!</p>
                            </div>
                        </div>
                    </div>

                    <!-- Current Goal -->
                    <div class="card goal-card">
                        <div class="card-header">
                            <h3>üéØ Daily Goal</h3>
                            <button class="btn-link" id="editGoal">Edit</button>
                        </div>
                        <div class="goal-content">
                            <div class="goal-progress">
                                <div class="progress-circle">
                                    <svg class="progress-ring" width="80" height="80">
                                        <circle class="progress-ring-background" cx="40" cy="40" r="35"></circle>
                                        <circle class="progress-ring-progress" cx="40" cy="40" r="35" id="goalProgressRing"></circle>
                                    </svg>
                                    <div class="progress-text" id="goalProgressText">0%</div>
                                </div>
                            </div>
                            <div class="goal-info">
                                <div class="goal-target" id="goalTarget">60 minutes</div>
                                <div class="goal-remaining" id="goalRemaining">60 minutes remaining</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Timer Tab -->
            <section id="timer-tab" class="tab-content">
                <div class="timer-layout">
                    <!-- Main Timer Card -->
                    <div class="card timer-card">
                        <div class="card-header">
                            <h3>‚è±Ô∏è Practice Timer</h3>
                            <div class="timer-status" id="timerStatus">Ready</div>
                        </div>
                        
                        <!-- Timer Display -->
                        <div class="timer-display-container">
                            <div class="timer-display" id="timerDisplay">00:00:00</div>
                            <div class="timer-subtitle" id="timerSubtitle">Ready to start</div>
                        </div>

                        <!-- Practice Item Selection -->
                        <div class="input-group">
                            <label for="practiceItem">What are you practicing?</label>
                            <select id="practiceItem" class="form-select">
                                <option value="">Select an item...</option>
                            </select>
                        </div>

                        <!-- Timer Controls -->
                        <div class="timer-controls">
                            <button class="btn btn-success" id="startBtn">
                                <span class="btn-icon">‚ñ∂Ô∏è</span>
                                <span class="btn-text">Start</span>
                            </button>
                            <button class="btn btn-warning" id="pauseBtn" disabled>
                                <span class="btn-icon">‚è∏Ô∏è</span>
                                <span class="btn-text">Pause</span>
                            </button>
                            <button class="btn btn-danger" id="stopBtn" disabled>
                                <span class="btn-icon">‚èπÔ∏è</span>
                                <span class="btn-text">Stop</span>
                            </button>
                        </div>
                    </div>

                    <!-- Session Notes -->
                    <div class="card notes-card">
                        <div class="card-header">
                            <h3>üìù Session Notes</h3>
                        </div>
                        <div class="notes-content">
                            <textarea id="sessionNotes" class="form-textarea" 
                                placeholder="What did you work on? Any breakthroughs or challenges?"></textarea>
                        </div>
                    </div>

                    <!-- Auto Break Settings -->
                    <div class="card autobreak-card">
                        <div class="card-header">
                            <h3>‚òï Auto Break</h3>
                            <div class="toggle-switch">
                                <input type="checkbox" id="autoBreakToggle" class="toggle-input">
                                <label for="autoBreakToggle" class="toggle-label"></label>
                            </div>
                        </div>
                        <div class="autobreak-settings" id="autoBreakSettings">
                            <div class="settings-row">
                                <div class="input-group">
                                    <label for="breakInterval">Every</label>
                                    <input type="number" id="breakInterval" class="form-input" value="25" min="5" max="120">
                                    <span class="input-suffix">minutes</span>
                                </div>
                                <div class="input-group">
                                    <label for="breakDuration">For</label>
                                    <input type="number" id="breakDuration" class="form-input" value="5" min="1" max="30">
                                    <span class="input-suffix">minutes</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Library Tab -->
            <section id="library-tab" class="tab-content">
                <div class="library-layout">
                    <!-- Library Navigation -->
                    <div class="library-nav">
                        <button class="library-tab-btn active" data-type="songs">
                            <span class="icon">üéµ</span>
                            <span class="text">Songs</span>
                            <span class="count" id="songsCount">0</span>
                        </button>
                        <button class="library-tab-btn" data-type="exercises">
                            <span class="icon">üí™</span>
                            <span class="text">Exercises</span>
                            <span class="count" id="exercisesCount">0</span>
                        </button>
                        <button class="library-tab-btn" data-type="repertoire">
                            <span class="icon">‚≠ê</span>
                            <span class="text">Repertoire</span>
                            <span class="count" id="repertoireCount">0</span>
                        </button>
                        <button class="library-tab-btn" data-type="routines">
                            <span class="icon">üìã</span>
                            <span class="text">Routines</span>
                            <span class="count" id="routinesCount">0</span>
                        </button>
                    </div>

                    <!-- Add New Item -->
                    <div class="card add-item-card">
                        <div class="card-header">
                            <h3 id="addItemTitle">‚ûï Add New Song</h3>
                        </div>
                        <form id="addItemForm" class="add-item-form">
                            <div class="form-row">
                                <div class="input-group">
                                    <label for="itemName">Name *</label>
                                    <input type="text" id="itemName" class="form-input" required>
                                </div>
                                <div class="input-group" id="artistGroup">
                                    <label for="itemArtist">Artist</label>
                                    <input type="text" id="itemArtist" class="form-input">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="input-group">
                                    <label for="itemTags">Tags</label>
                                    <input type="text" id="itemTags" class="form-input" 
                                        placeholder="e.g., blues, fingerpicking, beginner">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="input-group">
                                    <label for="itemBook">Book/Source</label>
                                    <input type="text" id="itemBook" class="form-input">
                                </div>
                                <div class="input-group">
                                    <label for="itemPage">Page</label>
                                    <input type="text" id="itemPage" class="form-input">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="input-group">
                                    <label for="itemLink">Link</label>
                                    <input type="url" id="itemLink" class="form-input" 
                                        placeholder="https://...">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="input-group">
                                    <label for="itemNotes">Notes</label>
                                    <textarea id="itemNotes" class="form-textarea" rows="3"></textarea>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-success">
                                    <span class="btn-icon">‚ûï</span>
                                    <span class="btn-text" id="addBtnText">Add Song</span>
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Items List -->
                    <div class="card items-list-card">
                        <div class="card-header">
                            <h3 id="itemsListTitle">üéµ Your Songs</h3>
                            <div class="list-actions">
                                <input type="search" id="itemsSearch" class="search-input" placeholder="Search...">
                                <select id="itemsSort" class="form-select">
                                    <option value="name">Sort by Name</option>
                                    <option value="artist">Sort by Artist</option>
                                    <option value="date">Sort by Date</option>
                                    <option value="practice">Sort by Practice Count</option>
                                </select>
                            </div>
                        </div>
                        <div class="items-list" id="itemsList">
                            <div class="empty-state">
                                <span class="empty-icon">üéµ</span>
                                <p>No songs yet. Add your first song above!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Statistics Tab -->
            <section id="statistics-tab" class="tab-content">
                <div class="statistics-layout">
                    <!-- Overview Stats -->
                    <div class="card overview-stats">
                        <div class="card-header">
                            <h3>üìä Practice Overview</h3>
                            <select id="statsTimeframe" class="form-select">
                                <option value="week">This Week</option>
                                <option value="month">This Month</option>
                                <option value="all">All Time</option>
                            </select>
                        </div>
                        <div class="overview-grid">
                            <div class="overview-item">
                                <div class="overview-icon">‚è±Ô∏è</div>
                                <div class="overview-content">
                                    <div class="overview-value" id="totalPracticeTime">0h 0m</div>
                                    <div class="overview-label">Total Practice Time</div>
                                </div>
                            </div>
                            <div class="overview-item">
                                <div class="overview-icon">üéØ</div>
                                <div class="overview-content">
                                    <div class="overview-value" id="totalSessions">0</div>
                                    <div class="overview-label">Practice Sessions</div>
                                </div>
                            </div>
                            <div class="overview-item">
                                <div class="overview-icon">üìà</div>
                                <div class="overview-content">
                                    <div class="overview-value" id="averageSession">0m</div>
                                    <div class="overview-label">Average Session</div>
                                </div>
                            </div>
                            <div class="overview-item">
                                <div class="overview-icon">üèÜ</div>
                                <div class="overview-content">
                                    <div class="overview-value" id="longestSession">0m</div>
                                    <div class="overview-label">Longest Session</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Practice Chart -->
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3>üìà Practice History</h3>
                            <div class="chart-controls">
                                <button class="btn-small" data-chart="daily">Daily</button>
                                <button class="btn-small active" data-chart="weekly">Weekly</button>
                                <button class="btn-small" data-chart="monthly">Monthly</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="practiceChart" width="400" height="200"></canvas>
                        </div>
                    </div>

                    <!-- Top Practiced Items -->
                    <div class="card top-practiced">
                        <div class="card-header">
                            <h3>üèÖ Most Practiced</h3>
                        </div>
                        <div class="top-practiced-list" id="topPracticedList">
                            <div class="empty-state">
                                <span class="empty-icon">üéØ</span>
                                <p>Start practicing to see your most practiced items!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Achievements Tab -->
            <section id="achievements-tab" class="tab-content">
                <div class="achievements-layout">
                    <!-- Current Goals -->
                    <div class="card goals-card">
                        <div class="card-header">
                            <h3>üéØ Current Goals</h3>
                            <button class="btn-link" id="editGoals">Edit Goals</button>
                        </div>
                        <div class="goals-grid" id="goalsGrid">
                            <!-- Goals will be populated by JS -->
                        </div>
                    </div>

                    <!-- Achievements -->
                    <div class="card achievements-card">
                        <div class="card-header">
                            <h3>üèÜ Achievements</h3>
                        </div>
                        <div class="achievements-grid" id="achievementsGrid">
                            <!-- Achievements will be populated by JS -->
                        </div>
                    </div>

                    <!-- Streak Information -->
                    <div class="card streak-card">
                        <div class="card-header">
                            <h3>üî• Practice Streaks</h3>
                        </div>
                        <div class="streak-content">
                            <div class="streak-item">
                                <div class="streak-icon">üî•</div>
                                <div class="streak-info">
                                    <div class="streak-value" id="currentStreakValue">0 days</div>
                                    <div class="streak-label">Current Streak</div>
                                </div>
                            </div>
                            <div class="streak-item">
                                <div class="streak-icon">üèÜ</div>
                                <div class="streak-info">
                                    <div class="streak-value" id="longestStreakValue">0 days</div>
                                    <div class="streak-label">Longest Streak</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚öôÔ∏è Settings</h3>
                <button class="btn-close" id="closeSettings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h4>üé® Appearance</h4>
                    <div class="setting-item">
                        <label>Theme</label>
                        <select id="themeSelect" class="form-select">
                            <option value="dark">Dark</option>
                            <option value="light">Light</option>
                            <option value="system">System</option>
                        </select>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>üîî Notifications</h4>
                    <div class="setting-item">
                        <label>Enable Notifications</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="notificationsToggle" class="toggle-input">
                            <label for="notificationsToggle" class="toggle-label"></label>
                        </div>
                    </div>
                    <div class="setting-item">
                        <label>Eye Care Reminders</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="eyeCareToggle" class="toggle-input">
                            <label for="eyeCareToggle" class="toggle-label"></label>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>üíæ Data</h4>
                    <div class="setting-item">
                        <button class="btn btn-primary" id="exportData">
                            <span class="btn-icon">üì§</span>
                            <span class="btn-text">Export Data</span>
                        </button>
                    </div>
                    <div class="setting-item">
                        <button class="btn btn-secondary" id="importData">
                            <span class="btn-icon">üì•</span>
                            <span class="btn-text">Import Data</span>
                        </button>
                        <input type="file" id="importFile" accept=".json" style="display: none;">
                    </div>
                    <div class="setting-item">
                        <button class="btn btn-danger" id="clearData">
                            <span class="btn-icon">üóëÔ∏è</span>
                            <span class="btn-text">Clear All Data</span>
                        </button>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>‚ÑπÔ∏è About</h4>
                    <div class="about-info">
                        <p><strong>Guitar Practice Tracker PWA</strong></p>
                        <p>Version 1.0.0</p>
                        <p>Track your guitar practice sessions and improve your skills!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Item Detail Modal -->
    <div id="itemDetailModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 id="itemDetailTitle">Item Details</h3>
                <button class="btn-close" id="closeItemDetail">&times;</button>
            </div>
            <div class="modal-body">
                <div id="itemDetailContent">
                    <!-- Content populated by JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- Goal Edit Modal -->
    <div id="goalEditModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üéØ Edit Daily Goal</h3>
                <button class="btn-close" id="closeGoalEdit">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="goalMinutes">Daily Practice Goal (minutes)</label>
                    <input type="number" id="goalMinutes" class="form-input" min="5" max="480" value="60">
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" id="cancelGoalEdit">Cancel</button>
                    <button class="btn btn-success" id="saveGoalEdit">Save Goal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="confirmTitle">Confirm Action</h3>
            </div>
            <div class="modal-body">
                <p id="confirmMessage">Are you sure?</p>
                <div class="modal-actions">
                    <button class="btn btn-secondary" id="confirmCancel">Cancel</button>
                    <button class="btn btn-danger" id="confirmOk">Confirm</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Scripts -->
    <script src="js/database.js"></script>
    <script src="js/timer.js"></script>
    <script src="js/dataManager.js"></script>
    <script src="js/statistics.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/app.js"></script>

    <!-- Service Worker Registration -->
    <script>
        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // Handle install prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button in UI
            const installBtn = document.createElement('button');
            installBtn.textContent = 'üì± Install App';
            installBtn.className = 'btn btn-primary install-btn';
            installBtn.onclick = async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    if (outcome === 'accepted') {
                        showToast('App installed successfully!', 'success');
                        installBtn.remove();
                    }
                    deferredPrompt = null;
                }
            };
            
            document.querySelector('.header-actions').prepend(installBtn);
            
            // Auto-hide after 10 seconds
            setTimeout(() => {
                if (installBtn.parentNode) {
                    installBtn.remove();
                }
            }, 10000);
        });

        // Handle app installation
        window.addEventListener('appinstalled', () => {
            showToast('üéâ App installed! You can now use it offline.', 'success');
        });

        // Show loading screen until app is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Simulate app loading
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
                document.getElementById('app').style.display = 'block';
                
                // Initialize app
                if (window.GuitarPracticeApp) {
                    window.GuitarPracticeApp.init();
                }
            }, 1500);
        });

        // Handle visibility change for background timer
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && window.TimerManager && window.TimerManager.isRunning()) {
                showToast('‚è±Ô∏è Timer running in background', 'info');
            }
        });

        // Prevent zoom on double tap (iOS)
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Global toast function
        function showToast(message, type = 'info', duration = 3000) {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            
            const icons = {
                success: '‚úÖ',
                error: '‚ùå',
                warning: '‚ö†Ô∏è',
                info: '‚ÑπÔ∏è'
            };
            
            toast.innerHTML = `
                <span class="toast-icon">${icons[type] || icons.info}</span>
                <span class="toast-message">${message}</span>
                <button class="toast-close">&times;</button>
            `;
            
            container.appendChild(toast);
            
            // Auto remove
            const removeToast = () => {
                if (toast.parentNode) {
                    toast.parentNode.removeChild(toast);
                }
            };
            
            setTimeout(removeToast, duration);
            
            // Manual close
            toast.querySelector('.toast-close').addEventListener('click', removeToast);
            
            return toast;
        }

        // Global status indicator function
        function updateStatusIndicator(message, duration = 3000) {
            const indicator = document.getElementById('statusIndicator');
            const originalText = indicator.textContent;
            
            indicator.textContent = message;
            
            if (duration > 0) {
                setTimeout(() => {
                    indicator.textContent = originalText;
                }, duration);
            }
        }
    </script>
</body>
</html>
